import './style.css';

// 20 ερωτήσεις για την Ασφάλεια στο Διαδίκτυο
const quizData = [
  {question: "Τι πρέπει να κάνεις αν λάβεις ένα ύποπτο email με σύνδεσμο;", options: ["Να το ανοίξεις αμέσως","Να το προωθήσεις σε φίλους","Να το αγνοήσεις ή να το διαγράψεις","Να απαντήσεις ζητώντας διευκρινίσεις"], answer: 2, tip: "Μην ανοίγεις ποτέ ύποπτους συνδέσμους. Διέγραψε το email ή ενημέρωσε έναν ενήλικα."},
  {question: "Ποιος είναι ο ασφαλέστερος τρόπος δημιουργίας κωδικού πρόσβασης;", options: ["Το όνομα του κατοικίδιού σου","Ημερομηνία γέννησης","Συνδυασμός γραμμάτων, αριθμών και συμβόλων","Η λέξη 'password'"], answer: 2, tip: "Χρησιμοποίησε πάντα ισχυρούς και μοναδικούς κωδικούς με γράμματα, αριθμούς και σύμβολα."},
  {question: "Τι είναι το phishing;", options: ["Επίθεση με ιούς","Απόπειρα εξαπάτησης μέσω ψεύτικων μηνυμάτων","Προστασία δεδομένων","Ενημέρωση λογισμικού"], answer: 1, tip: "Πρόσεχε τα μηνύματα που ζητούν προσωπικά στοιχεία ή κωδικούς."},
  {question: "Ποια πληροφορία ΔΕΝ πρέπει να δημοσιεύεις στα κοινωνικά δίκτυα;", options: ["Το αγαπημένο σου χρώμα","Τη διεύθυνση του σπιτιού σου","Φωτογραφίες από διακοπές","Αστεία βίντεο"], answer: 1, tip: "Προστάτευε τα προσωπικά σου δεδομένα και μην δημοσιεύεις ευαίσθητες πληροφορίες."},
  {question: "Τι πρέπει να κάνεις αν δεχτείς διαδικτυακό εκφοβισμό (cyberbullying);", options: ["Να απαντήσεις με τον ίδιο τρόπο","Να το αγνοήσεις πάντα","Να ζητήσεις βοήθεια από ενήλικα ή καθηγητή","Να διαγράψεις το λογαριασμό σου"], answer: 2, tip: "Μίλα πάντα σε κάποιον ενήλικα ή καθηγητή αν δεχτείς εκφοβισμό."},
  {question: "Ποια είναι η σωστή πρακτική για τα προσωπικά σου δεδομένα online;", options: ["Τα μοιράζεσαι με όλους","Τα προστατεύεις και τα μοιράζεσαι μόνο με εμπιστοσύνη","Τα δημοσιεύεις για να σε βρίσκουν φίλοι","Δεν έχει σημασία η προστασία τους"], answer: 1, tip: "Μοιράσου προσωπικά δεδομένα μόνο με άτομα που εμπιστεύεσαι."},
  {question: "Τι είναι το malware;", options: ["Είδος λογισμικού που προστατεύει τον υπολογιστή","Κακόβουλο λογισμικό που προκαλεί βλάβες","Πρόγραμμα επεξεργασίας κειμένου","Εφαρμογή κοινωνικής δικτύωσης"], answer: 1, tip: "Να έχεις πάντα ενημερωμένο antivirus και να προσέχεις τι κατεβάζεις."},
  {question: "Ποια είναι η καλύτερη ενέργεια όταν χρησιμοποιείς δημόσιο Wi-Fi;", options: ["Να κάνεις τραπεζικές συναλλαγές","Να μοιράζεσαι προσωπικά δεδομένα","Να αποφεύγεις την εισαγωγή ευαίσθητων πληροφοριών","Να αφήνεις τον υπολογιστή σου ανοιχτό"], answer: 2, tip: "Απέφυγε να εισάγεις κωδικούς ή να κάνεις αγορές σε δημόσια δίκτυα."},
  {question: "Τι πρέπει να κάνεις αν κάποιος σου ζητήσει τον κωδικό σου online;", options: ["Να τον δώσεις αν φαίνεται αξιόπιστος","Να τον αγνοήσεις και να μην τον δώσεις ποτέ","Να τον αλλάξεις αμέσως","Να τον γράψεις σε δημόσιο σημείο"], answer: 1, tip: "Μην δίνεις ποτέ τον κωδικό σου σε κανέναν, ακόμα κι αν φαίνεται αξιόπιστος."},
  {question: "Ποια είναι η σημασία του HTTPS σε μια ιστοσελίδα;", options: ["Είναι πιο αργή","Είναι ασφαλέστερη για μεταφορά δεδομένων","Δεν έχει διαφορά από το HTTP","Είναι μόνο για τράπεζες"], answer: 1, tip: "Προτίμησε ιστοσελίδες με HTTPS για ασφαλή μεταφορά δεδομένων."},
  {question: "Τι πρέπει να κάνεις πριν κατεβάσεις ένα αρχείο από το διαδίκτυο;", options: ["Να το ανοίξεις αμέσως","Να ελέγξεις την πηγή και να το σκανάρεις για ιούς","Να το στείλεις σε φίλους","Να το αποθηκεύσεις χωρίς έλεγχο"], answer: 1, tip: "Κατέβαζε αρχεία μόνο από αξιόπιστες πηγές και σκάναρέ τα για ιούς."},
  {question: "Ποια είναι η σωστή αντίδραση σε ένα ύποπτο μήνυμα από τράπεζα;", options: ["Να ακολουθήσεις το σύνδεσμο","Να δώσεις τα στοιχεία σου","Να επικοινωνήσεις με την τράπεζα από επίσημο κανάλι","Να το αγνοήσεις πάντα"], answer: 2, tip: "Επικοινώνησε με την τράπεζα μόνο από επίσημα κανάλια επικοινωνίας."},
  {question: "Τι είναι το two-factor authentication (2FA);", options: ["Διπλός λογαριασμός","Επιπλέον επίπεδο ασφάλειας με δεύτερο τρόπο ταυτοποίησης","Εφεδρικός κωδικός","Εφαρμογή κοινωνικής δικτύωσης"], answer: 1, tip: "Ενεργοποίησε το 2FA όπου είναι διαθέσιμο για μεγαλύτερη ασφάλεια."},
  {question: "Ποια είναι η σωστή πρακτική για τα updates του λογισμικού;", options: ["Να τα αγνοείς","Να τα κάνεις τακτικά για ασφάλεια","Να τα κάνεις μόνο αν έχεις πρόβλημα","Δεν χρειάζονται"], answer: 1, tip: "Κάνε τακτικά ενημερώσεις για να προστατεύεις τη συσκευή σου."},
  {question: "Τι πρέπει να κάνεις αν δεις προσβλητικό περιεχόμενο online;", options: ["Να το αγνοήσεις πάντα","Να το αναφέρεις στην πλατφόρμα ή σε ενήλικα","Να το μοιραστείς","Να απαντήσεις με προσβολές"], answer: 1, tip: "Αναφέρε το προσβλητικό περιεχόμενο και ενημέρωσε έναν ενήλικα."},
  {question: "Ποια είναι η σωστή χρήση των social media;", options: ["Να δημοσιεύεις ό,τι θέλεις χωρίς σκέψη","Να σέβεσαι τους άλλους και να προστατεύεις τα προσωπικά σου δεδομένα","Να δίνεις τον κωδικό σου σε φίλους","Να κάνεις πάντα check-in"], answer: 1, tip: "Να σέβεσαι τους άλλους και να σκέφτεσαι πριν δημοσιεύσεις κάτι."},
  {question: "Τι είναι το spam;", options: ["Ανεπιθύμητα ή μαζικά μηνύματα","Ενημερωτικά email από φίλους","Εφαρμογή κοινωνικής δικτύωσης","Πρόγραμμα προστασίας"], answer: 0, tip: "Μην ανοίγεις και μην απαντάς σε spam μηνύματα."},
  {question: "Ποια είναι η σωστή ενέργεια αν δεχτείς αίτημα φιλίας από άγνωστο;", options: ["Να το αποδεχτείς αμέσως","Να ελέγξεις το προφίλ και να είσαι προσεκτικός","Να δώσεις προσωπικά στοιχεία","Να στείλεις χρήματα"], answer: 1, tip: "Να είσαι πάντα προσεκτικός με αιτήματα φιλίας από αγνώστους."},
  {question: "Τι πρέπει να κάνεις αν ο υπολογιστής σου κολλήσει ιό;", options: ["Να αγνοήσεις το πρόβλημα","Να εγκαταστήσεις ή να τρέξεις antivirus","Να σβήσεις όλα τα αρχεία","Να στείλεις email σε φίλους"], answer: 1, tip: "Χρησιμοποίησε antivirus και κάνε τακτικούς ελέγχους στο σύστημά σου."},
  {question: "Ποια είναι η σωστή πρακτική για τα προσωπικά δεδομένα φίλων σου;", options: ["Να τα μοιράζεσαι χωρίς άδεια","Να τα προστατεύεις όπως τα δικά σου","Να τα δημοσιεύεις για πλάκα","Δεν έχει σημασία"], answer: 1, tip: "Σεβάσου τα προσωπικά δεδομένα των φίλων σου όπως τα δικά σου."}
];

let currentQuestion = 0;
let score = 0;
let shuffledQuestions = [];
let answered = false;

function shuffle(array) {
  return array
    .map((a) => [Math.random(), a])
    .sort((a, b) => a[0] - b[0])
    .map((a) => a[1]);
}

function showQuestion() {
  answered = false;
  const q = shuffledQuestions[currentQuestion];
  document.querySelector('#app').innerHTML = `
    <div class="quiz-container">
      <h2>Ερώτηση ${currentQuestion + 1} από ${shuffledQuestions.length}</h2>
      <p class="question">${q.question}</p>
      <div class="tip"><em>Συμβουλή: ${q.tip}</em></div>
      <div class="options">
        ${q.options
          .map(
            (opt, idx) => `
              <button class="option-btn" data-idx="${idx}">${opt}</button>
            `
          )
          .join('')}
      </div>
      <div class="progress">Σκορ: ${score}</div>
      <div id="feedback"></div>
    </div>
  `;
  document.querySelectorAll('.option-btn').forEach((btn) => {
    btn.addEventListener('click', (e) => {
      if (answered) return;
      answered = true;
      const idx = Number(e.target.getAttribute('data-idx'));
      const feedback = document.getElementById('feedback');
      if (idx === q.answer) {
        score++;
        btn.classList.add('correct');
        feedback.innerHTML = '<span style="color:green;">Σωστή απάντηση!</span>';
      } else {
        btn.classList.add('wrong');
        feedback.innerHTML = `<span style="color:red;">Λάθος! Η σωστή απάντηση είναι: <strong>${q.options[q.answer]}</strong></span>`;
        document.querySelectorAll('.option-btn')[q.answer].classList.add('correct');
      }
      setTimeout(() => {
        currentQuestion++;
        if (currentQuestion < shuffledQuestions.length) {
          showQuestion();
        } else {
          showResult();
        }
      }, 1200);
    });
  });
}

function showResult() {
  document.querySelector('#app').innerHTML = `
    <div class="quiz-container">
      <h2>Το quiz ολοκληρώθηκε!</h2>
      <p>Το σκορ σου: <strong>${score} / ${shuffledQuestions.length}</strong></p>
      <button id="restart-btn">Ξεκίνα ξανά</button>
    </div>
  `;
  document.getElementById('restart-btn').onclick = () => {
    currentQuestion = 0;
    score = 0;
    shuffledQuestions = shuffle([...quizData]);
    showQuestion();
  };
}

// Ξεκίνα με τυχαία σειρά ερωτήσεων
shuffledQuestions = shuffle([...quizData]);
showQuestion();
